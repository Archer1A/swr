# 接口简介<a name="swr_02_0065"></a>

容器镜像仓库服务提供的接口为开源接口，继承自Docker Registry V2版本。

<a name="table1577981717153"></a>
<table><thead align="left"><tr id="row16810121712155"><th class="cellrowborder" valign="top" width="27%" id="mcps1.1.3.1.1"><p id="p13834717131516"><a name="p13834717131516"></a><a name="p13834717131516"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="73%" id="mcps1.1.3.1.2"><p id="p3883151714159"><a name="p3883151714159"></a><a name="p3883151714159"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row12121816153"><td class="cellrowborder" valign="top" width="27%" headers="mcps1.1.3.1.1 "><p id="p471418111510"><a name="p471418111510"></a><a name="p471418111510"></a>Manage接口</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.1.3.1.2 "><p id="p218111811518"><a name="p218111811518"></a><a name="p218111811518"></a>Manage对象管理接口，包括Manage对象的创建，查询，修改，删除等接口。</p>
</td>
</tr>
</tbody>
</table>

## Manage接口<a name="section10335165821712"></a>

**表 1**  Manage接口

<a name="table88711342351"></a>
<table><thead align="left"><tr id="row88716427513"><th class="cellrowborder" valign="top" width="32%" id="mcps1.2.3.1.1"><p id="p1871442156"><a name="p1871442156"></a><a name="p1871442156"></a>API</p>
</th>
<th class="cellrowborder" valign="top" width="68%" id="mcps1.2.3.1.2"><p id="p12871194215516"><a name="p12871194215516"></a><a name="p12871194215516"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1145120310497"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p3451113194913"><a name="p3451113194913"></a><a name="p3451113194913"></a><a href="创建组织.md">创建组织</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p7451153154910"><a name="p7451153154910"></a><a name="p7451153154910"></a>创建组织。</p>
</td>
</tr>
<tr id="row1345119354918"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p7451153204913"><a name="p7451153204913"></a><a name="p7451153204913"></a><a href="删除组织.md">删除组织</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p1145183194916"><a name="p1145183194916"></a><a name="p1145183194916"></a>删除组织。</p>
</td>
</tr>
<tr id="row14515315491"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p124513314916"><a name="p124513314916"></a><a name="p124513314916"></a><a href="查询组织列表.md">查询组织列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p745113184912"><a name="p745113184912"></a><a name="p745113184912"></a>查询组织列表。</p>
</td>
</tr>
<tr id="row139966563480"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p2099612562482"><a name="p2099612562482"></a><a name="p2099612562482"></a><a href="查询组织详情.md">查询组织详情</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p7996155618489"><a name="p7996155618489"></a><a name="p7996155618489"></a>查看某个组织的详情。</p>
</td>
</tr>
<tr id="row193875553480"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p16387155134819"><a name="p16387155134819"></a><a name="p16387155134819"></a><a href="创建镜像.md">创建镜像</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p173871455144811"><a name="p173871455144811"></a><a name="p173871455144811"></a>在租户命名空间下创建镜像。</p>
</td>
</tr>
<tr id="row76419536489"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p3643453174816"><a name="p3643453174816"></a><a name="p3643453174816"></a><a href="删除镜像.md">删除镜像</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p0643175315481"><a name="p0643175315481"></a><a name="p0643175315481"></a>删除租户命名空间下的镜像。</p>
</td>
</tr>
<tr id="row08723421515"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p207961550184814"><a name="p207961550184814"></a><a name="p207961550184814"></a><a href="更新镜像的概要信息.md">更新镜像的概要信息</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p121701508378"><a name="p121701508378"></a><a name="p121701508378"></a>更新租户命名空间下的镜像概要信息，包括镜像类型、是否公有、描述信息。</p>
</td>
</tr>
<tr id="row1187211423510"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p9795250174816"><a name="p9795250174816"></a><a name="p9795250174816"></a><a href="查询镜像概要信息.md">查询镜像概要信息</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p61691806371"><a name="p61691806371"></a><a name="p61691806371"></a>查询租户命名空间下镜像的概要信息。</p>
</td>
</tr>
<tr id="row2087254219512"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p0795050194818"><a name="p0795050194818"></a><a name="p0795050194818"></a><a href="查询镜像列表.md">查询镜像列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p161673011371"><a name="p161673011371"></a><a name="p161673011371"></a>查询镜像列表。</p>
</td>
</tr>
<tr id="row1387219421653"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p2794125004815"><a name="p2794125004815"></a><a name="p2794125004815"></a><a href="查询镜像tag列表.md">查询镜像tag列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p21651406373"><a name="p21651406373"></a><a name="p21651406373"></a>获取镜像的tag的列表。</p>
</td>
</tr>
<tr id="row20873042758"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p6793450104811"><a name="p6793450104811"></a><a name="p6793450104811"></a><a href="删除指定tag的镜像.md">删除指定tag的镜像</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p8165140173719"><a name="p8165140173719"></a><a name="p8165140173719"></a>删除镜像仓库中指定tag的镜像。</p>
</td>
</tr>
<tr id="row1996444614579"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p18964164619574"><a name="p18964164619574"></a><a name="p18964164619574"></a><a href="查询官方镜像列表.md">查询官方镜像列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p10964114655716"><a name="p10964114655716"></a><a name="p10964114655716"></a>查询官方镜像列表。</p>
</td>
</tr>
<tr id="row27545115719"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p675125113575"><a name="p675125113575"></a><a name="p675125113575"></a><a href="查询官方镜像详情.md">查询官方镜像详情</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p1075165111571"><a name="p1075165111571"></a><a name="p1075165111571"></a>查询官方镜像详情。</p>
</td>
</tr>
<tr id="row14834124815572"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p15834164815579"><a name="p15834164815579"></a><a name="p15834164815579"></a><a href="查询官方镜像版本列表.md">查询官方镜像版本列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p1583464835719"><a name="p1583464835719"></a><a name="p1583464835719"></a>查询官方镜像版本列表。</p>
</td>
</tr>
<tr id="row191740203579"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p1617512015712"><a name="p1617512015712"></a><a name="p1617512015712"></a><a href="创建共享租户.md">创建共享租户</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p13176220165710"><a name="p13176220165710"></a><a name="p13176220165710"></a>创建共享租户。</p>
</td>
</tr>
<tr id="row0364155612568"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p736595615610"><a name="p736595615610"></a><a name="p736595615610"></a><a href="删除共享租户.md">删除共享租户</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p129123259110"><a name="p129123259110"></a><a name="p129123259110"></a>删除共享租户。</p>
</td>
</tr>
<tr id="row941674820567"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p18418134820563"><a name="p18418134820563"></a><a name="p18418134820563"></a><a href="更新共享租户.md">更新共享租户</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p103461628015"><a name="p103461628015"></a><a name="p103461628015"></a>更新共享租户。</p>
</td>
</tr>
<tr id="row71481415924"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p514917153219"><a name="p514917153219"></a><a name="p514917153219"></a><a href="判断共享租户是否存在.md">判断共享租户是否存在</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p51499156219"><a name="p51499156219"></a><a name="p51499156219"></a>判断共享租户是否存在。</p>
</td>
</tr>
<tr id="row207281881322"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p1731148728"><a name="p1731148728"></a><a name="p1731148728"></a><a href="获取共享租户列表.md">获取共享租户列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p47313817219"><a name="p47313817219"></a><a name="p47313817219"></a>获取共享租户列表。</p>
</td>
</tr>
<tr id="row132991932312"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p17299635319"><a name="p17299635319"></a><a name="p17299635319"></a><a href="查看共享镜像列表.md">查看共享镜像列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p132991531317"><a name="p132991531317"></a><a name="p132991531317"></a>查看共享镜像列表。</p>
</td>
</tr>
<tr id="row1713011161294"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p16131416291"><a name="p16131416291"></a><a name="p16131416291"></a><a href="获取镜像加速器地址.md">获取镜像加速器地址</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p111324165913"><a name="p111324165913"></a><a name="p111324165913"></a>获取镜像加速器地址。</p>
</td>
</tr>
</tbody>
</table>

## Docker原生接口<a name="section17502111762310"></a>

**表 2**  Docker原生接口

<a name="table15459104792711"></a>
<table><thead align="left"><tr id="row8462144716276"><th class="cellrowborder" valign="top" width="32%" id="mcps1.2.3.1.1"><p id="p54645479275"><a name="p54645479275"></a><a name="p54645479275"></a>API</p>
</th>
<th class="cellrowborder" valign="top" width="68%" id="mcps1.2.3.1.2"><p id="p1046511473278"><a name="p1046511473278"></a><a name="p1046511473278"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row5466174742712"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p646611478278"><a name="p646611478278"></a><a name="p646611478278"></a><a href="null.md">检查服务端是否支持Docker Registry API V2</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p1473414405387"><a name="p1473414405387"></a><a name="p1473414405387"></a>检查服务端是否支持Docker Registry API V2。</p>
</td>
</tr>
<tr id="row8469144719273"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p104701147162710"><a name="p104701147162710"></a><a name="p104701147162710"></a><a href="null.md">检查blob是否存在</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p1573494013819"><a name="p1573494013819"></a><a name="p1573494013819"></a>通过blob的SHA256查询当前镜像的layer层是否在仓库里存在。</p>
</td>
</tr>
<tr id="row1469211017283"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p36925062817"><a name="p36925062817"></a><a name="p36925062817"></a><a href="null.md">开始上传blob</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p10732194012386"><a name="p10732194012386"></a><a name="p10732194012386"></a>开始上传layer，如果成功，则返回上传地址和uuid。只支持续传一种模式。</p>
</td>
</tr>
<tr id="row69112042813"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p137471051669"><a name="p137471051669"></a><a name="p137471051669"></a><a href="null.md">上传blob</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p17729174011385"><a name="p17729174011385"></a><a name="p17729174011385"></a>上传当前uuid标识的blob的二进制对象。</p>
</td>
</tr>
<tr id="row1413119242819"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p71311121283"><a name="p71311121283"></a><a name="p71311121283"></a><a href="null.md">完成上传blob</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p5727104083815"><a name="p5727104083815"></a><a name="p5727104083815"></a>完成某个指定uuid标识的blob的上传。</p>
</td>
</tr>
<tr id="row199606272811"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p69605232811"><a name="p69605232811"></a><a name="p69605232811"></a><a href="null.md">上传manifest</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p572644053813"><a name="p572644053813"></a><a name="p572644053813"></a>上传镜像的manifest，定义了镜像的layer组成结构，大小等相关信息，用于识别和解析运行指定镜像所需要的资源。</p>
</td>
</tr>
<tr id="row42591442817"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p4259124152810"><a name="p4259124152810"></a><a name="p4259124152810"></a><a href="null.md">下载blob</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p172424003812"><a name="p172424003812"></a><a name="p172424003812"></a>通过镜像manifest的digest参数，即layer的SHA-256，获取镜像layer的二进制流blob。</p>
</td>
</tr>
<tr id="row36420572810"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p8643582817"><a name="p8643582817"></a><a name="p8643582817"></a><a href="null.md">下载manifest</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p10722164033813"><a name="p10722164033813"></a><a name="p10722164033813"></a>获取镜像的manifest文件，定义了镜像的layer层组成结构，大小等详细信息，用于识别和解析运行指定镜像所需要的资源。</p>
</td>
</tr>
<tr id="row48838512287"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p108831659281"><a name="p108831659281"></a><a name="p108831659281"></a><a href="null.md">查询镜像tag列表</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p1071954017385"><a name="p1071954017385"></a><a name="p1071954017385"></a>查询镜像tag列表。</p>
</td>
</tr>
<tr id="row2090812492716"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p189081249471"><a name="p189081249471"></a><a name="p189081249471"></a><a href="null.md">删除blob</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p1390811491176"><a name="p1390811491176"></a><a name="p1390811491176"></a>通过对应blob的SHA256来删除镜像layer。</p>
</td>
</tr>
<tr id="row8720155513714"><td class="cellrowborder" valign="top" width="32%" headers="mcps1.2.3.1.1 "><p id="p17201558711"><a name="p17201558711"></a><a name="p17201558711"></a><a href="null.md">删除manifest</a></p>
</td>
<td class="cellrowborder" valign="top" width="68%" headers="mcps1.2.3.1.2 "><p id="p772065510715"><a name="p772065510715"></a><a name="p772065510715"></a>通过镜像的SHA-256删除镜像manifests等相关信息。</p>
</td>
</tr>
</tbody>
</table>

